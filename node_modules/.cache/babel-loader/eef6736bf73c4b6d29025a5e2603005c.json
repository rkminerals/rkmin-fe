{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { isBase64 } from './utils/is-base64';\n/**\n * Class that contains the essencial for the document definition\n */\n\nvar DocumentDefinition =\n/** @class */\nfunction () {\n  function DocumentDefinition() {\n    /**\n     * It defines the pdf definition\n     */\n    this.definition = {\n      content: []\n    };\n\n    if (DocumentDefinition.usedFont) {\n      this.defaultStyle(DocumentDefinition.usedFont);\n    }\n  }\n  /**\n   * Sets the font that will be used to generate a PDF\n   * @param fontName The font type configuration name\n   */\n\n\n  DocumentDefinition.useFont = function (fontName) {\n    DocumentDefinition.usedFont = {\n      font: fontName\n    };\n  };\n  /**\n   * It adds content to the PDF body\n   * @param content any content\n   */\n\n\n  DocumentDefinition.prototype.add = function (content) {\n    this.definition.content.push(content);\n  };\n  /**\n   * Preload images setting a name to each images\n   *\n   * @example\n   * { picture1: 'data:image/jpeg;base64...' } or { picture1: await new Img('/path/image.png').build() }\n   *\n   * @param imgs Dictionary of default images\n   */\n\n\n  DocumentDefinition.prototype.images = function (imgs) {\n    var newImgs = {};\n\n    for (var img in imgs) {\n      if (typeof imgs[img] === 'string' && isBase64(imgs[img])) {\n        newImgs[img] = imgs[img]; // it's probably that the first condition is not passed for the regex condition, but it's a string yet\n      } else if (typeof imgs[img] !== 'string') {\n        newImgs[img] = imgs[img].image;\n      }\n    }\n\n    this.definition.images = newImgs;\n  };\n  /**\n   * Preload styles setting a name to each custom styles\n   *\n   * @example\n   * { style1: { bold: true, fontSize: 15 } }\n   *\n   * @param styles Dictionary of default styles\n   */\n\n\n  DocumentDefinition.prototype.styles = function (styles) {\n    this.definition.styles = styles;\n  };\n  /**\n   * Preload styles setting name to each custom style that is applied to whole PDF.\n   * Some styles won't work\n   *\n   * @example\n   * { style1: { bold: true, fontSize: 15 } }\n   *\n   * @param styles Dictionary of default styles\n   */\n\n\n  DocumentDefinition.prototype.defaultStyle = function (styles) {\n    this.definition.defaultStyle = __assign(__assign({}, this.definition.defaultStyle || {}), styles);\n  };\n  /**\n   * Set a header definition\n   * @param header Data that is applied as header\n   */\n\n\n  DocumentDefinition.prototype.header = function (header) {\n    this.definition.header = header;\n  };\n  /**\n   * Set a footer definition\n   * @param footer Data that is applied as footer\n   */\n\n\n  DocumentDefinition.prototype.footer = function (footer) {\n    this.definition.footer = footer;\n  };\n  /**\n   * Set a background layer definition\n   * @param background Data that is applied as background\n   */\n\n\n  DocumentDefinition.prototype.background = function (background) {\n    this.definition.background = background;\n  };\n  /**\n   * Set the page size\n   * @param size The page size\n   */\n\n\n  DocumentDefinition.prototype.pageSize = function (size) {\n    this.definition.pageSize = size;\n  };\n  /**\n   * Set the page margin\n   * @param margin The page margin\n   */\n\n\n  DocumentDefinition.prototype.pageMargins = function (margin) {\n    this.definition.pageMargins = margin;\n  };\n  /**\n   * Set the page orientation\n   * @param orientation the orientation\n   */\n\n\n  DocumentDefinition.prototype.pageOrientation = function (orientation) {\n    this.definition.pageOrientation = orientation;\n  };\n  /**\n   * Break the page before the condition defined\n   * @param breakBefore Function that defines the break of the page\n   */\n\n\n  DocumentDefinition.prototype.pageBreakBefore = function (breakBefore) {\n    this.definition.pageBreakBefore = breakBefore;\n  };\n  /**\n   * Set metadata to the document, you can set a custom metadata\n   * @param info The metadata\n   */\n\n\n  DocumentDefinition.prototype.info = function (info) {\n    this.definition.info = info;\n  };\n  /**\n   * It defines if use compress\n   * @param compress\n   */\n\n\n  DocumentDefinition.prototype.compress = function (compress) {\n    this.definition.compress = compress;\n  };\n  /**\n   * Set a watermark\n  */\n\n\n  DocumentDefinition.prototype.watermark = function (watermark) {\n    this.definition.watermark = watermark;\n  };\n  /**\n   * Set a raw content\n  */\n\n\n  DocumentDefinition.prototype.rawContent = function (content) {\n    this.definition.content = content;\n  };\n  /**\n   * Sets a password to the PDF to encrypt it and when an user wants to open the document\n   * a popup will be shown to type the password\n   * @param password\n   */\n\n\n  DocumentDefinition.prototype.userPassword = function (password) {\n    this.definition.userPassword = password;\n  };\n  /**\n   * Sets access privileges providing an owner password and the privileges setting\n   * @param password The password\n   * @param permissions The permission setting\n   */\n\n\n  DocumentDefinition.prototype.permissions = function (password, permissions) {\n    this.definition.ownerPassword = password;\n    this.definition.permissions = permissions;\n  };\n  /**\n   * Gets the document definition\n   */\n\n\n  DocumentDefinition.prototype.getDefinition = function () {\n    return this.definition;\n  };\n\n  return DocumentDefinition;\n}();\n\nexport { DocumentDefinition };","map":{"version":3,"mappings":"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","names":["isBase64","content","DocumentDefinition","usedFont","defaultStyle","fontName","font","definition","push","imgs","newImgs","img","image","images","styles","__assign","header","footer","background","size","pageSize","margin","pageMargins","orientation","pageOrientation","breakBefore","pageBreakBefore","info","compress","watermark","password","userPassword","permissions","ownerPassword"],"sourceRoot":"","sources":["../../src/lib/document-definition.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}