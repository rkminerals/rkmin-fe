(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{241:function(e,t,n){},242:function(e,t,n){},402:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(30),i=n.n(c),s=(n(241),n.p,n(242),n(243),n(4)),r=n(407),o=n(405),j=n(409),u=n(403),b=n(404),d=n(32),O=n.n(d),p="https://rkmin.herokuapp.com",h=n(43),x=n.n(h),g=n(408),m=n(406),f=n(414),y=n(410),v=n(411),S=n(58),k=n(412),C=n(90),I=n.n(C),w=n(59),T=n(5);var N=function(e){var t=Object(a.useState)("small"),n=Object(s.a)(t,2),l=n[0],c=(n[1],Object(a.useState)(!1)),i=Object(s.a)(c,2),r=i[0],o=i[1],j=Object(a.useState)(!1),d=Object(s.a)(j,2),h=d[0],C=d[1],N=Object(a.useState)(null),E=Object(s.a)(N,2),R=E[0],A=E[1],P=Object(a.useState)(null),z=Object(s.a)(P,2),M=z[0],_=z[1],B=Object(a.useState)(null),D=Object(s.a)(B,2),G=D[0],L=D[1],U=Object(a.useState)(null),q=Object(s.a)(U,2),Q=q[0],J=q[1],Y=Object(a.useState)(null),H=Object(s.a)(Y,2),K=H[0],W=H[1],X=Object(a.useState)(null),Z=Object(s.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useState)(null),ne=Object(s.a)(te,2),ae=ne[0],le=ne[1],ce=Object(a.useState)(null),ie=Object(s.a)(ce,2),se=ie[0],re=ie[1],oe=Object(a.useState)(null),je=Object(s.a)(oe,2),ue=je[0],be=je[1],de=Object(a.useState)(!1),Oe=Object(s.a)(de,2),pe=Oe[0],he=Oe[1],xe=Object(a.useState)(null),ge=Object(s.a)(xe,2),me=ge[0],fe=ge[1],ye=Object(a.useState)(null),ve=Object(s.a)(ye,2),Se=ve[0],ke=ve[1],Ce=Object(a.useState)(null),Ie=Object(s.a)(Ce,2),we=Ie[0],Te=Ie[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(u.a,{style:{height:"75vh",overflowY:"scroll",paddingBottom:"20px",paddingTop:"20px"},children:[Object(T.jsx)(b.a,{xs:{span:24},md:{span:20},children:Object(T.jsxs)(g.a,{labelCol:{span:8},wrapperCol:{span:12},layout:"horizontal",initialValues:{size:l},onValuesChange:function(){},size:l,onFinish:function(e){console.log(e)},children:[Object(T.jsx)(g.a.Item,{label:"Incoming Date",style:{textAlign:"left"},children:Object(T.jsx)(m.a,{value:we,onChange:function(e){if(e){console.log(e._d),Te(x()(e._d));var t=e._d.toString().split(" "),n="".concat(t[0],"/").concat(t[1],"/").concat(t[2],"/").concat(t[3]);A(n)}}})}),Object(T.jsx)(g.a.Item,{label:"Mineral",children:Object(T.jsx)(f.a,{defaultValue:"Select",value:M,onChange:function(t){console.log(t),_(t),e.minerals.map((function(e){e.mineralName==t&&(L(e._id),ke(e))}))},children:e.minerals.map((function(e){return Object(T.jsx)(f.a.Option,{value:e.mineralName,children:e.mineralName})}))})}),Object(T.jsx)(g.a.Item,{label:"Supplier",children:Object(T.jsx)(f.a,{value:Q,onChange:function(e){J(e)},children:null!=Se?Se.suppliers.map((function(e){return Object(T.jsx)(f.a.Option,{value:e,children:e})})):""})}),Object(T.jsx)(g.a.Item,{label:"Incoming type",children:Object(T.jsxs)(f.a,{value:se,onChange:function(e){re(e)},children:[Object(T.jsx)(f.a.Option,{value:"Rock",children:"Rock"}),Object(T.jsx)(f.a.Option,{value:"Powder",children:"Powder"})]})}),Object(T.jsx)(g.a.Item,{label:"Powder"===se?"Powder type":"Rock type",children:Object(T.jsxs)(f.a,{value:ue,onChange:function(e){be(e)},children:[null!=Se&&"Rock"===se?Se.rockTypes.map((function(e){if(e.supplier===Q)return Object(T.jsx)(f.a.Option,{value:e.rockType,children:e.rockType})})):"",null!=Se&&"Powder"===se?Se.powderGrades.map((function(e){if(e.supplier===Q)return Object(T.jsx)(f.a.Option,{value:e.gradeName,children:e.gradeName})})):""]})}),Object(T.jsx)(g.a.Item,{label:"Quantity",style:{textAlign:"left"},children:Object(T.jsx)(y.a,{value:$,onChange:function(e){ee(e)}})}),Object(T.jsx)(g.a.Item,{label:"Truck number",style:{textAlign:"left"},children:Object(T.jsx)(v.a,{value:K,onChange:function(e){W(e.target.value)}})}),Object(T.jsx)(g.a.Item,{label:"Remarks",style:{textAlign:"left"},children:Object(T.jsx)(I.a,{placeholder:"type here ...",value:ae,onChange:function(e){le(e.target.value)}})})]})}),Object(T.jsxs)(b.a,{xs:{span:24},md:{span:24},children:[Object(T.jsx)(S.a,{style:{},type:"primary",onClick:function(){null==R||null==G||null==M||null==Q||null==K||null==$||null==ue?V("All fields are required"):(o(!0),O.a.post(p+"/api/incomingEntryModel",{incomingDate:R,mineralId:G,mineralName:M,incomingType:se,supplier:Q,rockType:ue,typeQuantity:$,truckNumber:K,remarks:ae},{headers:{Authorization:"".concat(sessionStorage.getItem("rkminToken"))}}).then((function(e){console.log(e.data.message),"success"===e.data.message&&O.a.get(p+"/api/incomingEntryModel/getLastInserted",{headers:{Authorization:"".concat(sessionStorage.getItem("rkminToken"))}}).then((function(e){fe(e.data.content)})).then((function(){he(!0),o(!1)}))})).catch((function(e){o(!1),V("Something went wrong while submitting the form")})))},children:r?Object(T.jsx)(w.a,{}):"Save"}),Object(T.jsx)(S.a,{style:{},onClick:function(){he(!1),Te(null),le(null),ee(null),W(null),be(null),_(null),L(null),J(null)},type:"link",children:"Reset"})]})]}),Object(T.jsxs)(k.a,{title:"Confirmation",visible:pe,footer:[Object(T.jsx)(S.a,{type:"ghost",onClick:function(){C(!0),console.log(me),O.a.post(p+"/api/incomingEntryModel/deleteById/"+me[0]._id,me[0],{headers:{Authorization:"".concat(sessionStorage.getItem("rkminToken"))}}).then((function(e){})).then((function(){he(!1),C(!1)})).catch((function(e){C(!1),V("Error! Not deleted")}))},children:h?Object(T.jsx)(w.a,{}):"Edit"},"back"),Object(T.jsx)(S.a,{type:"primary",onClick:function(){F("Entry Saved"),he(!1),Te(null),le(null),ee(null),W(null),be(null),_(null),L(null),J(null)},children:"Submit"},"submit")],onCancel:function(){},children:["Please re-examin the submitted document",Object(T.jsx)("br",{}),Object(T.jsx)("sub",{children:' Click on "Submit" to save or click on "Edit" to make changes  '}),Object(T.jsx)("br",{}),Object(T.jsx)("hr",{}),Object(T.jsx)("ul",{children:me?Object.keys(me[0]).map((function(e){return"_id"!=e&&"timeStamp"!=e&&"__v"!=e?Object(T.jsxs)("li",{children:[e," : ",me[0][e]]}):""})):""})]})]})},E=n(146),R=n(228),A=n(413);var P=function(e){E.PdfMakeWrapper.setFonts(R),new E.PdfMakeWrapper;var t=Object(a.useState)("small"),n=Object(s.a)(t,2),l=n[0],c=(n[1],Object(a.useState)(!1)),i=Object(s.a)(c,2),r=i[0],o=i[1],j=Object(a.useState)(!1),d=Object(s.a)(j,2),h=d[0],v=d[1],C=Object(a.useState)(null),I=Object(s.a)(C,2),N=I[0],P=I[1],z=Object(a.useState)(null),M=Object(s.a)(z,2),_=M[0],B=M[1],D=Object(a.useState)(null),G=Object(s.a)(D,2),L=G[0],U=G[1],q=Object(a.useState)(null),Q=Object(s.a)(q,2),J=Q[0],Y=Q[1],H=Object(a.useState)(null),K=Object(s.a)(H,2),W=K[0],X=K[1],Z=Object(a.useState)(null),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)(null),ae=Object(s.a)(ne,2),le=ae[0],ce=ae[1],ie=Object(a.useState)(null),se=Object(s.a)(ie,2),re=se[0],oe=se[1],je=Object(a.useState)([]),ue=Object(s.a)(je,2),be=ue[0],de=ue[1],Oe=Object(a.useState)(null),pe=Object(s.a)(Oe,2),he=pe[0],xe=pe[1],ge=Object(a.useState)(null),me=Object(s.a)(ge,2),fe=me[0],ye=me[1],ve=Object(a.useState)(null),Se=Object(s.a)(ve,2),ke=Se[0],Ce=Se[1],Ie=Object(a.useState)(!1),we=Object(s.a)(Ie,2),Te=we[0],Ne=we[1],Ee=Object(a.useState)(null),Re=Object(s.a)(Ee,2),Ae=Re[0],Pe=Re[1],ze=Object(a.useState)(null),Me=Object(s.a)(ze,2),_e=Me[0],Be=Me[1],De=Object(a.useState)(null),Ge=Object(s.a)(De,2),Le=Ge[0],Fe=Ge[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(u.a,{style:{height:"75vh",overflowY:"scroll",paddingBottom:"20px",paddingTop:"20px"},children:[Object(T.jsx)(b.a,{xs:{span:24},md:{span:20},children:Object(T.jsxs)(g.a,{labelCol:{span:8},wrapperCol:{span:12},layout:"horizontal",initialValues:{size:l},onValuesChange:function(){},size:l,onFinish:function(e){console.log(e)},children:[Object(T.jsx)(g.a.Item,{label:"Grinding Date",style:{textAlign:"left"},children:Object(T.jsx)(m.a,{value:Le,onChange:function(e){if(e){console.log(e._d),Fe(x()(e._d));var t=e._d.toString().split(" "),n="".concat(t[0],"/").concat(t[1],"/").concat(t[2],"/").concat(t[3]);P(n)}}})}),Object(T.jsx)(g.a.Item,{label:"Production Unit",children:Object(T.jsx)(f.a,{defaultValue:"Select",value:_,onChange:function(e){console.log(e),B(e)},children:["Unit 1","Unit 2"].map((function(e){return Object(T.jsx)(f.a.Option,{value:e,children:e})}))})}),Object(T.jsx)(g.a.Item,{label:"Shift",children:Object(T.jsx)(f.a,{defaultValue:"Select",value:J,onChange:function(e){console.log(e),Y(e)},children:["Morning","Evening","Night"].map((function(e){return Object(T.jsx)(f.a.Option,{value:e,children:e})}))})}),Object(T.jsx)(g.a.Item,{label:"Mineral",children:Object(T.jsx)(f.a,{defaultValue:"Select",value:W,onChange:function(t){console.log(t),X(t),e.minerals.map((function(e){e.mineralName==t&&(U(e._id),Be(e))}))},children:e.minerals.map((function(e){return Object(T.jsx)(f.a.Option,{value:e.mineralName,children:e.mineralName})}))})}),Object(T.jsx)(g.a.Item,{label:"Grade",children:Object(T.jsx)(f.a,{value:le,onChange:function(e){ce(e)},children:null!=_e?_e.powderGrades.map((function(e){return Object(T.jsx)(f.a.Option,{value:e.gradeName,children:e.gradeName})})):""})}),Object(T.jsx)(g.a.Item,{label:"Quantity",style:{textAlign:"left"},children:Object(T.jsx)(y.a,{value:ee,onChange:function(e){e>0?te(e):V("'Quantity' must be a positive number")}})}),Object(T.jsx)(g.a.Item,{label:"constituentType",style:{textAlign:"left"},children:Object(T.jsxs)(A.a.Group,{onChange:function(e){oe(e.target.value),console.log(re)},children:[Object(T.jsx)(A.a,{value:"Powder",children:"Powder"}),Object(T.jsx)(A.a,{value:"Rock",children:"Rock"})]})}),Object(T.jsxs)(g.a.Item,{label:"Composition",style:{textAlign:"left"},children:[Object(T.jsx)("sub",{children:"Part Ratio"}),Object(T.jsx)("br",{}),Object(T.jsx)(y.a,{value:ke,onChange:function(e){e>0&&Ce(e)}}),Object(T.jsx)("br",{}),Object(T.jsx)("sub",{children:"Supplier"}),Object(T.jsx)(f.a,{value:fe,onChange:function(e){ye(e)},children:null!=_e?_e.suppliers.map((function(e){return Object(T.jsx)(f.a.Option,{value:e,children:e})})):""}),Object(T.jsx)("sub",{children:"Powder"===re?"Powder type":"Rock Type"}),Object(T.jsxs)(f.a,{value:he,onChange:function(e){xe(e)},children:[null!=_e&&"Rock"===re?_e.rockTypes.map((function(e){if(e.supplier===fe)return Object(T.jsx)(f.a.Option,{value:e.rockType,children:e.rockType})})):"",null!=_e&&"Powder"===re?_e.powderGrades.map((function(e){if(e.supplier===fe)return Object(T.jsx)(f.a.Option,{value:e.gradeName,children:e.gradeName})})):""]}),Object(T.jsx)(S.a,{style:{marginTop:"5px"},onClick:function(){if(null==ke||null==fe||null==he)V("Empty fields in 'Composition' are not allowed");else{var e="Rock"===re?{inputPartRatio:ke,supplier:fe,rockType:he,constituentType:re}:{inputPartRatio:ke,supplier:fe,grade:he,constituentType:re};be.push(e),Ce(null),ye(null),xe(null)}},children:"Add"}),Object(T.jsxs)("span",{style:{marginLeft:"20px"},children:[Object(T.jsxs)("span",{style:{borderRadius:"2px",padding:"3.5px",marginLeft:"15px",color:"yellow",backgroundColor:"#1890ff"},children:[Object(T.jsx)("span",{style:{color:"yellow"},children:be.length})," constituents"]}),Object(T.jsx)(S.a,{style:{marginTop:"2px",marginLeft:"3px",border:"1px solid #1890ff"},onClick:function(){de([])},children:"Reset constituents"})]})]})]})}),Object(T.jsxs)(b.a,{xs:{span:24},md:{span:24},children:[Object(T.jsx)(S.a,{style:{},type:"primary",onClick:function(){console.log(be);var e=0;0!=be.length&&be.map((function(t){e+=t.inputPartRatio})),null==N||null==L||null==W||null==ee||be==[]||null==le||null==_||null==J?V("All fields are required"):e<1||e>1?V("Sum of constituent partRatios must be 1"):(o(!0),O.a.post(p+"/api/grindingEntryModel",{grindingDate:N,productionUnitUsed:_,shift:J,mineralId:L,mineralName:W,gradeName:le,quantityProduced:ee,composition:be},{headers:{Authorization:"".concat(sessionStorage.getItem("rkminToken"))}}).then((function(e){console.log(e.data.message),"success"==e.data.message&&O.a.get(p+"/api/grindingEntryModel/getLastInserted",{headers:{Authorization:"".concat(sessionStorage.getItem("rkminToken"))}}).then((function(e){Pe(e.data.content)})).then((function(){Ne(!0),o(!1)}))})).catch((function(e){o(!1),V("Something went wrong while submitting the form")})))},children:r?Object(T.jsx)(w.a,{}):"Save"}),Object(T.jsx)(S.a,{style:{},onClick:function(){Ne(!1),Fe(null),Y(null),te(null),de([]),X(null),U(null),ce(null),B(null)},type:"link",children:"Reset"})]})]}),Object(T.jsxs)(k.a,{title:"Confirmation",visible:Te,footer:[Object(T.jsx)(S.a,{type:"ghost",onClick:function(){v(!0),console.log(Ae),O.a.post(p+"/api/grindingEntryModel/deleteById/"+Ae[0]._id,Ae[0],{headers:{Authorization:"".concat(sessionStorage.getItem("rkminToken"))}}).then((function(e){})).then((function(){Ne(!1),v(!1)})).catch((function(e){V("Error! Not deleted"),v(!1)}))},children:h?Object(T.jsx)(w.a,{}):"Edit"},"back"),Object(T.jsx)(S.a,{type:"primary",onClick:function(){F("Entry Saved"),Ne(!1),Fe(null),Y(null),te(null),de([]),X(null),U(null),ce(null),B(null)},children:"Done"},"submit")],onCancel:function(){},children:["Please re-examin the submitted document",Object(T.jsx)("br",{}),Object(T.jsx)("sub",{children:' Click on "Submit" to save or click on "Edit" to make changes  '}),Object(T.jsx)("br",{}),Object(T.jsx)("hr",{}),Object(T.jsx)("ul",{children:Ae?Object.keys(Ae[0]).map((function(e){return"_id"!=e&&"timeStamp"!=e&&"__v"!=e?Object(T.jsxs)("li",{children:[e," : ",JSON.stringify(Ae[0][e])]}):""})):""})]})]})};var z=function(e){var t=Object(a.useState)("small"),n=Object(s.a)(t,2),l=n[0],c=(n[1],Object(a.useState)(!1)),i=Object(s.a)(c,2),r=i[0],o=i[1],j=Object(a.useState)(!1),d=Object(s.a)(j,2),h=d[0],v=d[1],C=Object(a.useState)(null),N=Object(s.a)(C,2),E=N[0],R=N[1],A=Object(a.useState)(null),P=Object(s.a)(A,2),z=P[0],M=P[1],_=Object(a.useState)(null),B=Object(s.a)(_,2),D=B[0],G=B[1],L=Object(a.useState)(null),U=Object(s.a)(L,2),q=U[0],Q=U[1],J=Object(a.useState)(null),Y=Object(s.a)(J,2),H=Y[0],K=Y[1],W=Object(a.useState)(null),X=Object(s.a)(W,2),Z=X[0],$=X[1],ee=Object(a.useState)(null),te=Object(s.a)(ee,2),ne=te[0],ae=te[1],le=Object(a.useState)(!1),ce=Object(s.a)(le,2),ie=ce[0],se=ce[1],re=Object(a.useState)(null),oe=Object(s.a)(re,2),je=oe[0],ue=oe[1],be=Object(a.useState)(null),de=Object(s.a)(be,2),Oe=de[0],pe=de[1],he=Object(a.useState)(null),xe=Object(s.a)(he,2),ge=xe[0],me=xe[1],fe=[];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(u.a,{style:{height:"75vh",overflowY:"scroll",paddingBottom:"20px",paddingTop:"20px"},children:[Object(T.jsx)(b.a,{xs:{span:24},md:{span:20},children:Object(T.jsxs)(g.a,{labelCol:{span:8},wrapperCol:{span:12},layout:"horizontal",initialValues:{size:l},onValuesChange:function(){},size:l,onFinish:function(e){console.log(e)},children:[Object(T.jsx)(g.a.Item,{label:"Grinding Date",style:{textAlign:"left"},children:Object(T.jsx)(m.a,{value:ge,onChange:function(e){if(e){console.log(e._d),me(x()(e._d));var t=e._d.toString().split(" "),n="".concat(t[0],"/").concat(t[1],"/").concat(t[2],"/").concat(t[3]);R(n)}}})}),Object(T.jsx)(g.a.Item,{label:"Mineral",children:Object(T.jsx)(f.a,{defaultValue:"Select",value:D,onChange:function(t){console.log(t),G(t),e.minerals.map((function(e){e.mineralName==t&&(M(e._id),pe(e))}))},children:e.minerals.map((function(e){return Object(T.jsx)(f.a.Option,{value:e.mineralName,children:e.mineralName})}))})}),Object(T.jsx)(g.a.Item,{label:"Grade",children:Object(T.jsx)(f.a,{value:H,onChange:function(e){K(e)},children:null!=Oe?Oe.powderGrades.map((function(e){if(!fe.includes(e.gradeName))return fe.push(e.gradeName),Object(T.jsx)(f.a.Option,{value:e.gradeName,children:e.gradeName})})):""})}),Object(T.jsx)(g.a.Item,{label:"Supplier",children:Object(T.jsx)(f.a,{value:Z,onChange:function(e){$(e)},children:null!=Oe?Oe.powderGrades.map((function(e){if(e.gradeName===H)return Object(T.jsx)(f.a.Option,{value:e.supplier,children:e.supplier})})):""})}),Object(T.jsx)(g.a.Item,{label:"Quantity Dispatched",style:{textAlign:"left"},children:Object(T.jsx)(y.a,{value:q,onChange:function(e){Q(e)}})}),Object(T.jsx)(g.a.Item,{label:"Remarks",style:{textAlign:"left"},children:Object(T.jsx)(I.a,{placeholder:"type here ...",value:ne,onChange:function(e){ae(e.target.value)}})})]})}),Object(T.jsxs)(b.a,{xs:{span:24},md:{span:24},children:[Object(T.jsx)(S.a,{style:{},type:"primary",onClick:function(){null==E||null==z||null==D||null==q||null==H?V("All fields are required"):(o(!0),O.a.post(p+"/api/powderDispatchingEntryModel",{dispatchingDate:E,mineralId:z,mineralName:D,supplier:Z,gradeName:H,quantityDispatched:q,remarks:ne},{headers:{Authorization:"".concat(sessionStorage.getItem("rkminToken"))}}).then((function(e){console.log(e.data.message),"success"==e.data.message&&O.a.get(p+"/api/powderDispatchingEntryModel/getLastInserted",{headers:{Authorization:"".concat(sessionStorage.getItem("rkminToken"))}}).then((function(e){ue(e.data.content)})).then((function(){se(!0),o(!1)}))})).catch((function(e){o(!1),V("Something went wrong while submitting the form")})))},children:r?Object(T.jsx)(w.a,{}):"Save"}),Object(T.jsx)(S.a,{style:{},onClick:function(){se(!1),me(null),ae(null),Q(null),G(null),M(null),K(null)},type:"link",children:"Reset"})]})]}),Object(T.jsxs)(k.a,{title:"Confirmation",visible:ie,footer:[Object(T.jsx)(S.a,{type:"ghost",onClick:function(){v(!0),console.log(je),O.a.post(p+"/api/powderDispatchingEntryModel/deleteById/"+je[0]._id,je[0],{headers:{Authorization:"".concat(sessionStorage.getItem("rkminToken"))}}).then((function(e){})).then((function(){se(!1),v(!1)})).catch((function(e){V("Error! Not deleted"),v(!1)}))},children:h?Object(T.jsx)(w.a,{}):"Edit"},"back"),Object(T.jsx)(S.a,{type:"primary",onClick:function(){F("Entry Saved"),se(!1),me(null),ae(null),Q(null),G(null),M(null),K(null)},children:"Submit"},"submit")],onCancel:function(){},children:["Please re-examin the submitted document",Object(T.jsx)("br",{}),Object(T.jsx)("sub",{children:' Click on "Submit" to save or click on "Edit" to make changes  '}),Object(T.jsx)("br",{}),Object(T.jsx)("hr",{}),Object(T.jsx)("ul",{children:je?Object.keys(je[0]).map((function(e){return"_id"!=e&&"timeStamp"!=e&&"__v"!=e?Object(T.jsxs)("li",{children:[e," : ",JSON.stringify(je[0][e])]}):""})):""})]})]})},M=n(415),_=r.a.TabPane;var B=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),l=n[0],c=n[1],i=Object(a.useState)(!0),d=Object(s.a)(i,2),h=d[0],x=d[1];Object(a.useEffect)((function(){O.a.get(p+"/api/mineralModel",{headers:{Authorization:"".concat(sessionStorage.getItem("rkminToken"))}}).then((function(e){console.log(e),c(e.data.content),x(!1)})).catch((function(){alert("something went wrong in fetching the data. Please refresh!")}))}),[]);var g=[{title:"\ud83c\udfe0 Home",content:h?Object(T.jsxs)("span",{children:[Object(T.jsx)("h2",{children:Object(T.jsx)("br",{})}),Object(T.jsx)(o.a,{style:{paddingTop:"40px"},size:"large"}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"loading"]}):Object(T.jsxs)("h2",{children:[Object(T.jsx)(M.a,{style:{fontSize:"30px",paddingTop:"30px"}}),Object(T.jsx)("br",{})," ",Object(T.jsx)("sub",{children:"Application is ready"})]})},{title:"Incoming",content:h?Object(T.jsxs)("span",{children:[Object(T.jsx)(o.a,{style:{paddingTop:"30px"},size:"large"}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"loading"]}):Object(T.jsx)(N,{minerals:l})},{title:"Grinding",content:h?Object(T.jsxs)("span",{children:[Object(T.jsx)(o.a,{style:{paddingTop:"30px"},size:"large"}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"loading"]}):Object(T.jsx)(P,{minerals:l})},{title:"Dispatch",content:h?Object(T.jsxs)("span",{children:[Object(T.jsx)(o.a,{size:"large"}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"loading"]}):Object(T.jsx)(z,{minerals:l})}];return j.a,j.a.Item,j.a.Item,j.a.Item,Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(u.a,{children:Object(T.jsx)(b.a,{span:24,children:Object(T.jsx)(r.a,{style:{paddingTop:""},defaultActiveKey:"1",tabPosition:"top",size:"default",onChange:function(){},children:g.map((function(e){return Object(T.jsx)(_,{tab:e.title,children:e.content},e.title+"-key")}))})})})})},D=(n(400),n(416));var G=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),l=n[0],c=n[1],i=Object(a.useState)(!0),r=Object(s.a)(i,2),j=r[0],d=r[1],h=Object(a.useState)([]),x=Object(s.a)(h,2),g=x[0],m=x[1],f=Object(a.useState)({}),y=Object(s.a)(f,2),v=(y[0],y[1],Object(a.useState)(null)),C=Object(s.a)(v,2),I=C[0],w=C[1],N=Object(a.useState)(!1),E=Object(s.a)(N,2),R=E[0],A=E[1],P=Object(a.useState)(!1),z=Object(s.a)(P,2);return z[0],z[1],Object(a.useEffect)((function(){var e=!0;O.a.get(p+"/api/mineralModel",{headers:{Authorization:"".concat(sessionStorage.getItem("rkminToken"))}}).then((function(t){return console.log(t.data),e&&(c(t.data.content),d(!1)),function(){e=!0}})).catch((function(){window.location.reload(),V("something went wrong in fetching the app data")}))}),[]),1==j?Object(T.jsxs)("span",{children:[Object(T.jsx)("h2",{children:Object(T.jsx)("br",{})}),Object(T.jsx)(o.a,{style:{paddingTop:"40px"},size:"large"}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"creating reports ..."]}):Object(T.jsxs)(u.a,{children:[Object(T.jsxs)(b.a,{span:24,align:"left",style:{paddingTop:"20px",paddingLeft:"50px"},children:[Object(T.jsx)("h3",{style:{paddingLeft:"5px"},children:"Reports"}),Object(T.jsx)("br",{}),Object(T.jsx)(S.a,{style:{marginRight:"10px"},onClick:function(){w(1),function(){var e=[];0!=l.length&&(l.map((function(t){var n=0;t.rockTypes.map((function(e){n+=e.typeBalance})),e.push({mineralName:t.mineralName,mineralBalance:n,measuringUnit:t.measuringUnit})})),m(e),A(!0))}()},children:"Minerals Info."}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(S.a,{style:{marginRight:"10px"},onClick:function(){w(2),A(!0)},children:"Powder Info."}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("a",{style:{marginRight:"10px"},href:"".concat(p,"/api/incomingEntryModel/allInReport"),children:Object(T.jsxs)(S.a,{children:["Incoming Entries ",Object(T.jsx)(D.a,{style:{color:"#1890ff"},size:"large"})]})}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("a",{style:{marginRight:"10px"},href:"".concat(p,"/api/grindingEntryModel/allInReport"),children:Object(T.jsxs)(S.a,{children:["Grinding Entries ",Object(T.jsx)(D.a,{style:{color:"#1890ff"}})]})}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("a",{style:{marginRight:"10px"},href:"".concat(p,"/api/powderDispatchingEntryModel/allInReport"),children:Object(T.jsxs)(S.a,{children:["Powder Dispatching Entries ",Object(T.jsx)(D.a,{style:{color:"#1890ff"}})]})})]}),Object(T.jsx)(k.a,{title:["","Mineral Info.","Powder Info."][I],visible:R,footer:[Object(T.jsx)(S.a,{type:"primary",onClick:function(){A(!1)},children:"Ok"},"submit")],onCancel:function(){A(!1)},children:Object(T.jsxs)("div",{style:{height:"40vh",overflowY:"scroll"},children:[1==I?Object(T.jsxs)("table",{children:[Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{style:{border:"0px solid black",padding:"5px"},children:Object(T.jsx)("b",{children:" Mineral "})})," ",Object(T.jsx)("td",{style:{border:"0px solid black",padding:"5px"},children:Object(T.jsx)("b",{children:"Balance"})})]}),0!=g.length?g.map((function(e){return Object(T.jsxs)("tr",{children:[Object(T.jsxs)("td",{style:{border:"2px solid silver",padding:"5px 10px"},children:[e.mineralName," "]})," ",Object(T.jsxs)("td",{style:{border:"2px solid silver",padding:"5px 10px"},children:[e.mineralBalance," ",e.measuringUnit]})]})})):""]}):"",2==I?Object(T.jsx)("div",{children:0!=l.length?l.map((function(e){return Object(T.jsxs)("table",{style:{marginTop:"20px"},children:[Object(T.jsx)("h4",{children:e.mineralName}),0!=e.powderGrades.length?e.powderGrades.map((function(t){return Object(T.jsxs)("tr",{children:[Object(T.jsxs)("td",{style:{border:"2px solid silver",padding:"5px 10px"},children:[t.gradeName,", ",t.supplier," "]})," ",Object(T.jsxs)("td",{style:{border:"2px solid silver",padding:"5px 10px"},children:[t.gradeBalance," ",e.measuringUnit]})]})})):""]})})):""}):""]})})]})},L=n(130),F=(n(401),function(e){return L.b.success(e,{position:"top-center",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),V=function(e){return L.b.error(e,{position:"top-center",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};var U=function(){return Object(T.jsxs)("div",{className:"App",children:[null!=sessionStorage.getItem("rkminToken")?Object(T.jsxs)("div",{children:[Object(T.jsx)(u.a,{children:Object(T.jsx)(b.a,{span:24,children:Object(T.jsx)("div",{children:Object(T.jsxs)(u.a,{style:{backgroundColor:"#1890ff",padding:"5px 20px",margin:"0px -30px"},children:[Object(T.jsx)(b.a,{span:12,style:{textAlign:"left"},children:Object(T.jsxs)(S.a,{type:"text",style:{color:"white",backgroundColor:"transparent"},onMouseOver:function(e){e.target.style.cursor="none"},size:"large",children:["R. K. MINERALS ",Object(T.jsx)("sub",{children:" Stock Register"})]})}),Object(T.jsx)(b.a,{span:12,style:{textAlign:"right"}})]})})})}),Object(T.jsx)(B,{}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(G,{})]}):Object(T.jsxs)("div",{children:[Object(T.jsxs)(u.a,{style:{backgroundColor:"#1890ff",padding:"5px 20px",margin:"0px -30px"},children:[Object(T.jsx)(b.a,{span:12,style:{textAlign:"left"},children:Object(T.jsxs)(S.a,{type:"text",style:{color:"white",backgroundColor:"transparent"},onMouseOver:function(e){e.target.style.cursor="none"},size:"large",children:["R. K. MINERALS ",Object(T.jsx)("sub",{children:" Stock Register"})]})}),Object(T.jsx)(b.a,{span:12,style:{textAlign:"right"}})]}),Object(T.jsx)(u.a,{children:Object(T.jsxs)(b.a,{span:24,align:"center",style:{paddingTop:"150px"},children:[Object(T.jsx)("br",{}),Object(T.jsx)(v.a,{placeholder:"Email",id:"email",type:"text",style:{width:"60%"}}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(v.a,{placeholder:"password",id:"password",type:"password",style:{width:"60%"}}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(S.a,{type:"primary",onClick:function(){O.a.post(p+"/api/auth/login",{email:document.getElementById("email").value.toString(),password:document.getElementById("password").value.toString()}).then((function(e){console.log(e),null!=e.data.token?sessionStorage.setItem("rkminToken",e.data.token):alert(e.data.error)})).then((function(){window.location.reload()})).catch((function(e){alert(e)}))},children:"Log in"})]})})]}),Object(T.jsx)(L.a,{position:"bottom-right"})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,417)).then((function(t){var n=t.getCLS,a=t.getFID,l=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),l(e),c(e),i(e)}))};i.a.render(Object(T.jsx)(l.a.StrictMode,{children:Object(T.jsx)(U,{})}),document.getElementById("root")),q()}},[[402,1,2]]]);
//# sourceMappingURL=main.ed17b4a7.chunk.js.map